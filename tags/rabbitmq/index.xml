<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Rabbitmq on vBlog</title>
    <link>http://vladvasiliu.com/tags/rabbitmq/index.xml</link>
    <description>Recent content in Rabbitmq on vBlog</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright Â© 2016 Vlad Vasiliu; all rights reserved.</copyright>
    <atom:link href="http://vladvasiliu.com/tags/rabbitmq/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Running rabbitmqctl as root</title>
      <link>http://vladvasiliu.com/post/20140425-running_rabbitmqctl_as_root/</link>
      <pubDate>Fri, 25 Apr 2014 11:42:00 +0200</pubDate>
      
      <guid>http://vladvasiliu.com/post/20140425-running_rabbitmqctl_as_root/</guid>
      <description>&lt;p&gt;On some Linux distributions, running &lt;code&gt;rabbitmqctl&lt;/code&gt; as root may fail with the following error:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    Error: unable to connect to node rabbit@host: nodedown



    DIAGNOSTICS

    ===========



    attempted to contact: [rabbit@host]



    rabbit@host:

      * found rabbit (port 25672)

      * TCP connection succeeded

      * suggestion: hostname mismatch?

      * suggestion: is the cookie set correctly?



    current node details:

    - node name: rabbitmqctl19092@localhost

    - home dir: /root

    - cookie hash: B+onVMMDnR1uRT2nuD24VA==
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Assuming that the hostname is correct and running &lt;code&gt;rabbitmqctl&lt;/code&gt; as the rabbitmq user works, this is a cookie mismatch problem.&lt;/p&gt;

&lt;p&gt;In order to be able to run &lt;code&gt;rabbitmqctl&lt;/code&gt; as root, it must use the same cookie as the one used by the server. This cookie is usually found in &lt;code&gt;/var/lib/rabbitmq/.erlang.cookie&lt;/code&gt;. To use this cookie, the &lt;code&gt;HOME&lt;/code&gt; environment must be set to &lt;code&gt;/var/lib/rabbitmq&lt;/code&gt;. Either create a wrapper around &lt;code&gt;/usr/bin/rabbitmqctl&lt;/code&gt; that sets the correct environment, or edit this file to add &lt;code&gt;HOME=/var/lib/rabbitmq&lt;/code&gt; on the line that starts with &lt;code&gt;exec ${ERL_DIR}&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>